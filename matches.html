<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Ù…Ø¨Ø§Ø±ÙŠØ§Øª Ø¯ÙˆØ±ÙŠ Ø±ÙˆØ´Ù† Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠ</title>
  <link rel="stylesheet" href="assets/style.css" />
</head>
<body>
  <section class="card" id="matches-card" style="margin:20px">
    <h2>ğŸ“… Ù…Ø¨Ø§Ø±ÙŠØ§Øª Ø¯ÙˆØ±ÙŠ Ø±ÙˆØ´Ù† Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠ</h2>
    <div id="matches-container">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„â€¦</div>
  </section>

  <script>
    async function loadMatches() {
      const container = document.getElementById("matches-container");
      container.textContent = "Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„â€¦";

      try {
        const res = await fetch("/.netlify/functions/saudi-matches");
        const data = await res.json();

        if (!data.ok) {
          container.textContent = "Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª Ø­Ø§Ù„ÙŠØ§Ù‹";
          return;
        }

        const block = (title, arr, isPast) => `
          <div style="margin-top:15px;font-weight:bold">${title}</div>
          ${arr.map(m => `
            <div style="border:1px solid #ccc;border-radius:8px;padding:8px;margin-top:6px">
              <div style="display:flex;justify-content:space-between;align-items:center">
                <span>${m.home}</span>
                <strong>${isPast && m.homeScore!=null && m.awayScore!=null 
                  ? `${m.homeScore} - ${m.awayScore}` 
                  : "VS"}</strong>
                <span>${m.away}</span>
              </div>
              <div style="font-size:12px;color:#666">
                ğŸŸï¸ ${m.venue || "ØºÙŠØ± Ù…Ø­Ø¯Ø¯"} | ğŸ“… ${m.date} | â° ${m.time}
              </div>
            </div>
          `).join("")}
        `;

        container.innerHTML = block("Ø§Ù„Ù…Ø¨Ø§Ø±ÙŠØ§Øª Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©", data.past, true) + block("Ø§Ù„Ù…Ø¨Ø§Ø±ÙŠØ§Øª Ø§Ù„Ù‚Ø§Ø¯Ù…Ø©", data.next, false);
      } catch (err) {
        container.textContent = "Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø¬Ù„Ø¨ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª";
      }
    }

    loadMatches();
  </script>
</body>
</html>
