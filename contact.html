<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="google-adsense-account" content="ca-pub-6286972152122784">
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>تواصل معنا | أسعار اليوم السعودية</title>
  <meta name="description" content="نموذج تواصل مع إدارة موقع أسعار اليوم السعودية.">
  <meta name="keywords" content="تواصل, مراسلة, موقع, أسعار, السعودية" />
  <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;600&display=swap" rel="stylesheet">
  <link rel="canonical" href="https://as3aralywm.com/contact.html" />

  <style>
    /* أساسيات متجاوبة ولمسية */
    *, *::before, *::after { box-sizing: border-box; }
    html { -webkit-text-size-adjust: 100%; }
    body {
      font-family: 'Tajawal', system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
      background-color: #f5f5f5;
      color: #333;
      margin: 0;
      line-height: 1.6;
      font-size: clamp(15px, 3.2vw, 17px);
    }

    .wrap {
      min-height: 100dvh;
      display: grid;
      place-items: start center;
      padding: clamp(16px, 4vw, 32px);
    }

    .container {
      width: min(100%, 920px);
      background: #fff;
      padding: clamp(16px, 4vw, 32px);
      border-radius: 12px;
      box-shadow: 0 6px 22px rgba(0,0,0,.08);
    }

    header h1 {
      color: #006c35;
      margin: 0 0 6px;
      font-weight: 600;
      font-size: clamp(20px, 4.6vw, 28px);
      display: flex; gap: .5rem; align-items: center;
    }
    .meta {
      font-size: 13px; color:#666; margin: 0 0 16px;
    }

    form {
      display: grid;
      gap: clamp(12px, 2.8vw, 16px);
    }

    /* شبكة حقلين على الشاشات المتوسطة فما فوق */
    .grid-2 {
      display: grid;
      gap: clamp(12px, 2.8vw, 16px);
    }
    @media (min-width: 768px) {
      .grid-2 { grid-template-columns: 1fr 1fr; }
    }

    label {
      display: inline-block;
      margin-bottom: 6px;
      font-weight: 600;
      font-size: .95em;
    }

    input, textarea, button {
      font: inherit;
    }

    .field {
      width: 100%;
      padding: 12px 14px;
      border-radius: 10px;
      border: 1px solid #d9d9d9;
      background: #fff;
      transition: border-color .2s ease, box-shadow .2s ease;
      min-height: 44px; /* لمس مريح */
    }
    textarea.field { min-height: 120px; resize: vertical; }

    .field:focus-visible {
      outline: none;
      border-color: #0a7a41;
      box-shadow: 0 0 0 3px rgba(0,108,53,.15);
    }

    .btn {
      display: inline-flex;
      justify-content: center;
      align-items: center;
      width: 100%;
      padding: 12px 18px;
      border: 0;
      border-radius: 10px;
      background: #006c35;
      color: #fff;
      font-weight: 600;
      cursor: pointer;
      min-height: 46px;
      transition: transform .06s ease, background-color .2s ease, opacity .2s ease;
      touch-action: manipulation;
    }
    .btn:hover { background: #00522a; }
    .btn:active { transform: translateY(1px); }
    .btn[disabled] { opacity: .6; cursor: not-allowed; }

    .success-message, .error-message {
      margin-top: 10px;
      padding: 12px 14px;
      border-radius: 10px;
      display: none;
      font-size: .95em;
    }
    .success-message { background-color: #d4edda; color: #155724; }
    .error-message   { background-color: #fdecea; color: #611a15; }

    .policy-note {
      font-size: .9em; color:#555; margin-top: 6px;
    }

    .links {
      margin-top: 14px; font-size: .95em; display: flex; gap: 10px; flex-wrap: wrap;
    }
    .links a { color:#0a7a41; text-decoration: none; }
    .links a:hover { text-decoration: underline; }

    /* honeypot */
    .hp-wrap { position:absolute; inset-inline-start:-9999px; width:1px; height:1px; overflow:hidden; }

    /* تحسينات صغيرة للشاشات الصغيرة جدًا */
    @media (max-width: 360px) {
      .wrap { padding: 12px; }
      .container { padding: 14px; border-radius: 10px; }
    }

    /* احترام تفضيل تقليل الحركة */
    @media (prefers-reduced-motion: reduce) {
      * { transition: none !important; }
    }
  </style>

  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-D8W8C8PYS9"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){ dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'G-D8W8C8PYS9');
  </script>

  <!-- JSON-LD ContactPage -->
  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"ContactPage",
    "name":"تواصل معنا - أسعار اليوم السعودية",
    "url":"https://as3aralywm.com/contact.html",
    "inLanguage":"ar",
    "isPartOf":{"@type":"WebSite","name":"أسعار اليوم السعودية","url":"https://as3aralywm.com"}
  }
  </script>
</head>
<body>
  <main class="wrap">
    <section class="container" aria-labelledby="contact-heading">
      <header>
        <h1 id="contact-heading">📩 تواصل معنا</h1>
        <p class="meta"><strong>آخر تحديث:</strong> <time datetime="2025-08-22">22 أغسطس 2025</time></p>
      </header>

      <form id="contactForm" action="https://formspree.io/f/mwpqrlog" method="POST" aria-describedby="privacy-note">
        <div class="grid-2">
          <div>
            <label for="name">الاسم</label>
            <input class="field" type="text" name="name" id="name" required maxlength="80"
                   inputmode="text" autocomplete="name"
                   pattern="^[^<>]{2,}$" aria-required="true" aria-label="الاسم الكامل" />
          </div>
          <div>
            <label for="email">البريد الإلكتروني</label>
            <input class="field" type="email" name="email" id="email" required maxlength="120"
                   inputmode="email" autocomplete="email"
                   aria-required="true" aria-label="البريد الإلكتروني" />
          </div>
        </div>

        <div>
          <label for="message">الرسالة</label>
          <textarea class="field" name="message" id="message" rows="5" required maxlength="2000"
                    aria-label="نص الرسالة"></textarea>
        </div>

        <!-- honeypot لمنع السبام -->
        <div class="hp-wrap" aria-hidden="true">
          <label for="website">موقعك</label>
          <input type="text" id="website" name="website" tabindex="-1" autocomplete="off" />
        </div>

        <!-- زمن ملء النموذج -->
        <input type="hidden" name="timeToFill" id="timeToFill" value="0" />

        <button type="submit" id="submitBtn" class="btn" aria-label="إرسال النموذج">إرسال</button>

        <div id="successMessage" class="success-message" role="status">✅ تم إرسال الرسالة بنجاح!</div>
        <div id="errorMessage" class="error-message" role="alert">❌ حدث خطأ أثناء الإرسال. حاول مرة أخرى.</div>

        <p id="privacy-note" class="policy-note">
          بإرسالك الرسالة فإنك توافق على <a href="/privacy.html">سياسة الخصوصية</a> و
          <a href="/terms.html">اتفاقية الاستخدام</a>. نستخدم البيانات للرد على استفسارك فقط.
        </p>

        <nav class="links" aria-label="روابط مساعدة">
          <a href="/">الصفحة الرئيسية</a>
          <a href="/about.html">من نحن</a>
          <a href="/privacy.html">الخصوصية</a>
          <a href="/terms.html">الشروط</a>
        </nav>
      </form>

      <noscript>
        <p class="error-message" style="display:block;">⚠️ يتطلب هذا النموذج تفعيل JavaScript لإرساله بشكل صحيح.</p>
      </noscript>
    </section>
  </main>

  <script>
    const form = document.getElementById("contactForm");
    const successMessage = document.getElementById("successMessage");
    const errorMessage   = document.getElementById("errorMessage");
    const submitBtn      = document.getElementById("submitBtn");
    const startTime      = Date.now();
    const ttfInput       = document.getElementById("timeToFill");

    // زمن ملء النموذج (بالثواني)
    document.addEventListener("input", () => {
      ttfInput.value = Math.round((Date.now() - startTime) / 1000);
    }, { passive: true });

    form.addEventListener("submit", async (e) => {
      e.preventDefault();

      // فلاتر سبام بسيطة
      const hp = (document.getElementById("website").value || "").trim();
      const timeToFill = parseInt(ttfInput.value || "0", 10);
      if (hp.length > 0 || timeToFill < 3) {
        errorMessage.textContent = "تم رفض الإرسال للاشتباه بالنشاط الآلي. حاول مجددًا.";
        errorMessage.style.display = "block";
        successMessage.style.display = "none";
        return;
      }

      // تعطيل الزر أثناء الإرسال
      submitBtn.disabled = true;
      submitBtn.textContent = "جارٍ الإرسال...";

      const formData = new FormData(form);
      try {
        const response = await fetch(form.action, {
          method: "POST",
          body: formData,
          headers: { 'Accept': 'application/json' }
        });

        if (response.ok) {
          form.reset();
          successMessage.style.display = "block";
          errorMessage.style.display = "none";
        } else {
          throw new Error("network");
        }
      } catch {
        errorMessage.style.display = "block";
        successMessage.style.display = "none";
      } finally {
        submitBtn.disabled = false;
        submitBtn.textContent = "إرسال";
      }
    });
  </script>
</body>
</html>
